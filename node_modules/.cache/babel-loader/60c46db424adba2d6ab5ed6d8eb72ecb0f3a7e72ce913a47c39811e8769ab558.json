{"ast":null,"code":"var _jsxFileName = \"/Users/amartyashankar/final copy 2/Projects/notedly/web/src/pages/signup.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { useMutation, useApolloClient } from '@apollo/client';\nimport { useNavigate } from 'react-router-dom';\nimport { IS_LOGGED_IN } from '../gql/query';\nimport UserForm from '../components/UserForm';\nimport { SIGNUP_USER } from '../gql/mutation';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SignUp = () => {\n  _s();\n  const navigate = useNavigate(); // For navigation in React Router v6\n  const client = useApolloClient();\n  const [signUp, {\n    loading,\n    error\n  }] = useMutation(SIGNUP_USER, {\n    onCompleted: data => {\n      // Store the token in localStorage\n      localStorage.setItem('token', data.signUp);\n\n      // Update the local cache\n      client.cache.writeQuery({\n        query: IS_LOGGED_IN,\n        data: {\n          isLoggedIn: true\n        }\n      });\n\n      // Redirect the user to the homepage\n      navigate('/');\n    }\n  });\n  useEffect(() => {\n    // Update the document title\n    document.title = 'Sign Up — Notedly';\n  }, []);\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(UserForm, {\n      action: signUp,\n      formType: \"signup\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Error creating an account!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n_s(SignUp, \"erAkkSDjElR96cljSNr2AGJI73U=\", false, function () {\n  return [useNavigate, useApolloClient, useMutation];\n});\n_c = SignUp;\nexport default SignUp;\nvar _c;\n$RefreshReg$(_c, \"SignUp\");","map":{"version":3,"names":["React","useEffect","useMutation","useApolloClient","useNavigate","IS_LOGGED_IN","UserForm","SIGNUP_USER","jsxDEV","_jsxDEV","SignUp","_s","navigate","client","signUp","loading","error","onCompleted","data","localStorage","setItem","cache","writeQuery","query","isLoggedIn","document","title","Fragment","children","action","formType","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/amartyashankar/final copy 2/Projects/notedly/web/src/pages/signup.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useMutation, useApolloClient } from '@apollo/client';\nimport { useNavigate } from 'react-router-dom';\nimport { IS_LOGGED_IN } from '../gql/query';\nimport UserForm from '../components/UserForm';\nimport { SIGNUP_USER } from '../gql/mutation';\n\nconst SignUp = () => {\n  const navigate = useNavigate(); // For navigation in React Router v6\n  const client = useApolloClient();\n\n  const [signUp, { loading, error }] = useMutation(SIGNUP_USER, {\n    onCompleted: data => {\n      // Store the token in localStorage\n      localStorage.setItem('token', data.signUp);\n\n      // Update the local cache\n      client.cache.writeQuery({\n        query: IS_LOGGED_IN,\n        data: { isLoggedIn: true },\n      });\n\n      // Redirect the user to the homepage\n      navigate('/');\n    }\n  });\n\n  useEffect(() => {\n    // Update the document title\n    document.title = 'Sign Up — Notedly';\n  }, []);\n\n  return (\n    <React.Fragment>\n      <UserForm action={signUp} formType=\"signup\" />\n      {/* Display loading or error messages */}\n      {loading && <p>Loading...</p>}\n      {error && <p>Error creating an account!</p>}\n    </React.Fragment>\n  );\n};\n\nexport default SignUp;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,WAAW,EAAEC,eAAe,QAAQ,gBAAgB;AAC7D,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,YAAY,QAAQ,cAAc;AAC3C,OAAOC,QAAQ,MAAM,wBAAwB;AAC7C,SAASC,WAAW,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9C,MAAMC,MAAM,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACnB,MAAMC,QAAQ,GAAGR,WAAW,CAAC,CAAC,CAAC,CAAC;EAChC,MAAMS,MAAM,GAAGV,eAAe,CAAC,CAAC;EAEhC,MAAM,CAACW,MAAM,EAAE;IAAEC,OAAO;IAAEC;EAAM,CAAC,CAAC,GAAGd,WAAW,CAACK,WAAW,EAAE;IAC5DU,WAAW,EAAEC,IAAI,IAAI;MACnB;MACAC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,IAAI,CAACJ,MAAM,CAAC;;MAE1C;MACAD,MAAM,CAACQ,KAAK,CAACC,UAAU,CAAC;QACtBC,KAAK,EAAElB,YAAY;QACnBa,IAAI,EAAE;UAAEM,UAAU,EAAE;QAAK;MAC3B,CAAC,CAAC;;MAEF;MACAZ,QAAQ,CAAC,GAAG,CAAC;IACf;EACF,CAAC,CAAC;EAEFX,SAAS,CAAC,MAAM;IACd;IACAwB,QAAQ,CAACC,KAAK,GAAG,mBAAmB;EACtC,CAAC,EAAE,EAAE,CAAC;EAEN,oBACEjB,OAAA,CAACT,KAAK,CAAC2B,QAAQ;IAAAC,QAAA,gBACbnB,OAAA,CAACH,QAAQ;MAACuB,MAAM,EAAEf,MAAO;MAACgB,QAAQ,EAAC;IAAQ;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EAE7CnB,OAAO,iBAAIN,OAAA;MAAAmB,QAAA,EAAG;IAAU;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,EAC5BlB,KAAK,iBAAIP,OAAA;MAAAmB,QAAA,EAAG;IAA0B;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC7B,CAAC;AAErB,CAAC;AAACvB,EAAA,CAjCID,MAAM;EAAA,QACON,WAAW,EACbD,eAAe,EAEOD,WAAW;AAAA;AAAAiC,EAAA,GAJ5CzB,MAAM;AAmCZ,eAAeA,MAAM;AAAC,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}