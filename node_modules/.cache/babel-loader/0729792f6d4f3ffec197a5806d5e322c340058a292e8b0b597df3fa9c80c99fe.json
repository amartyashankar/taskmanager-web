{"ast":null,"code":"var _jsxFileName = \"/Users/amartyashankar/final copy 2/Projects/notedly/web/src/components/Header.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport styled from 'styled-components';\nimport logo from '../img/logo.svg';\nimport { useQuery, useApolloClient } from '@apollo/client';\nimport { Link, useNavigate } from 'react-router-dom';\nimport ButtonAsLink from './ButtonAsLink';\nimport { IS_LOGGED_IN } from '../gql/query';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HeaderBar = styled.header`\n  width: 100%;\n  padding: 0.5em 1em;\n  display: flex;\n  height: 64px;\n  position: fixed;\n  align-items: center;\n  background-color: #fff;\n  box-shadow: 0 0 5px 0 rgba(0, 0, 0, 0.25);\n  z-index: 1;\n`;\n_c = HeaderBar;\nconst LogoText = styled.h1`\n  margin: 0;\n  padding: 0;\n  display: inline;\n`;\n_c2 = LogoText;\nconst UserState = styled.div`\n  left: 0;\n`;\n_c3 = UserState;\nconst Header = () => {\n  _s();\n  const navigate = useNavigate(); // React Router v6 navigation hook\n  const client = useApolloClient(); // Apollo Client instance\n  const {\n    data\n  } = useQuery(IS_LOGGED_IN);\n  const handleLogout = () => {\n    // Remove the token from localStorage\n    localStorage.removeItem('token');\n    // Clear Apollo cache and reset state\n    client.clearStore();\n    // Update local state to reflect logged out status\n    client.cache.writeQuery({\n      query: IS_LOGGED_IN,\n      data: {\n        isLoggedIn: false\n      }\n    });\n    // Redirect to the homepage\n    navigate('/signin');\n    window.location.reload();\n  };\n  return /*#__PURE__*/_jsxDEV(HeaderBar, {\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: logo,\n      alt: \"TaskManager Logo\",\n      height: \"40\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LogoText, {\n      children: \"TaskManager\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(UserState, {\n      children: data !== null && data !== void 0 && data.isLoggedIn ? /*#__PURE__*/_jsxDEV(ButtonAsLink, {\n        onClick: handleLogout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/signin\",\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), \" or \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/signup\",\n          children: \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 50\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(Header, \"LZdqbsQWA1mEkXktcJV5IBPp+SQ=\", false, function () {\n  return [useNavigate, useApolloClient, useQuery];\n});\n_c4 = Header;\nexport default Header;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"HeaderBar\");\n$RefreshReg$(_c2, \"LogoText\");\n$RefreshReg$(_c3, \"UserState\");\n$RefreshReg$(_c4, \"Header\");","map":{"version":3,"names":["React","styled","logo","useQuery","useApolloClient","Link","useNavigate","ButtonAsLink","IS_LOGGED_IN","jsxDEV","_jsxDEV","HeaderBar","header","_c","LogoText","h1","_c2","UserState","div","_c3","Header","_s","navigate","client","data","handleLogout","localStorage","removeItem","clearStore","cache","writeQuery","query","isLoggedIn","window","location","reload","children","src","alt","height","fileName","_jsxFileName","lineNumber","columnNumber","onClick","to","_c4","$RefreshReg$"],"sources":["/Users/amartyashankar/final copy 2/Projects/notedly/web/src/components/Header.js"],"sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport logo from '../img/logo.svg';\nimport { useQuery, useApolloClient } from '@apollo/client';\nimport { Link, useNavigate } from 'react-router-dom';\n\nimport ButtonAsLink from './ButtonAsLink';\nimport { IS_LOGGED_IN } from '../gql/query';\n\nconst HeaderBar = styled.header`\n  width: 100%;\n  padding: 0.5em 1em;\n  display: flex;\n  height: 64px;\n  position: fixed;\n  align-items: center;\n  background-color: #fff;\n  box-shadow: 0 0 5px 0 rgba(0, 0, 0, 0.25);\n  z-index: 1;\n`;\n\nconst LogoText = styled.h1`\n  margin: 0;\n  padding: 0;\n  display: inline;\n`;\n\nconst UserState = styled.div`\n  left: 0;\n`;\n\nconst Header = () => {\n  const navigate = useNavigate(); // React Router v6 navigation hook\n  const client = useApolloClient(); // Apollo Client instance\n  const { data } = useQuery(IS_LOGGED_IN);\n\n  const handleLogout = () => {\n    // Remove the token from localStorage\n    localStorage.removeItem('token');\n    // Clear Apollo cache and reset state\n    client.clearStore();\n    // Update local state to reflect logged out status\n    client.cache.writeQuery({\n      query: IS_LOGGED_IN,\n      data: { isLoggedIn: false },\n    });\n    // Redirect to the homepage\n    navigate('/signin');\n    window.location.reload();\n  };\n\n  return (\n    <HeaderBar>\n      <img src={logo} alt=\"TaskManager Logo\" height=\"40\" />\n      <LogoText>TaskManager</LogoText>\n      <UserState>\n        {data?.isLoggedIn ? (\n          <ButtonAsLink onClick={handleLogout}>Logout</ButtonAsLink>\n        ) : (\n          <p>\n            <Link to=\"/signin\">Sign In</Link> or <Link to=\"/signup\">Sign Up</Link>\n          </p>\n        )}\n      </UserState>\n    </HeaderBar>\n  );\n};\n\nexport default Header;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}